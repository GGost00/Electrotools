<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Filtros - ElectroTools</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/filtros.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header fijo -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <a href="../index-principal.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
                    <span class="logo-icon">⚡</span>
                    <h1>ElectroTools</h1>
                </a>
            </div>
            
            <!-- Botón hamburguesa para móvil -->
            <button class="menu-toggle" id="menuToggle" aria-label="Menú">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <!-- Navegación principal -->
            <nav class="nav" id="mainNav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="../index-principal.html#inicio" class="nav-link">Inicio</a>
                    </li>
                    
                    <li class="nav-item has-dropdown">
                        <a href="index-calculadoras.html" class="nav-link">
                            Calculadoras <span class="arrow">▼</span>
                        </a>
                        <ul class="dropdown">
                            <li><a href="index-calculadoras.html">Ver todas las Calculadoras</a></li>
                            <li><a href="color-code.html">Código de colores</a></li>
                            <li><a href="buscar-color-resistencia.html">Buscar colores</a></li>
                            <li><a href="ley-de-ohm.html">Ley de Ohm</a></li>
                            <li><a href="filtros.html">Filtros RC/RL/RLC</a></li>
                            <li><a href="divisor-resistivo.html">Divisor resistivo</a></li>
                            <li><a href="serie-paralelo.html">Serie-Paralelo</a></li>
                        </ul>
                    </li>
                    
                    <li class="nav-item has-dropdown">
                        <a href="../pinouts/index-pinouts.html" class="nav-link">
                            Pinouts <span class="arrow">▼</span>
                        </a>
                        <ul class="dropdown">
                            <li><a href="../pinouts/index-pinouts.html">Ver todos los Pinouts</a></li>
                            <li><a href="../pinouts/arduino/index-arduino.html">Arduino</a></li>
                            <li><a href="../pinouts/raspberry/index-raspberry.html">Raspberry Pi</a></li>
                            <li><a href="../pinouts/displays/index-displays.html">Displays</a></li>
                            <li><a href="../pinouts/jacks-conectores/index-jacks.html">Jacks y Conectores</a></li>
                            <li><a href="../pinouts/sensores.html">Sensores</a></li>
                            <li><a href="../pinouts/modulos-comunicacion.html">Módulos de Comunicación</a></li>
                            <li><a href="../pinouts/componentes-basicos.html">Componentes Básicos</a></li>
                        </ul>
                    </li>
                    
                    <li class="nav-item has-dropdown">
                        <a href="../recursos/index-recursos.html" class="nav-link">Recursos <span class="arrow">▼</span>
                        </a>
                        <ul class="dropdown">
                            <li><a href="../recursos/datasheet/index-datasheet.html">Datasheets</a></li>
                            <li><a href="../recursos/tutoriales/index-tutoriales.html">Tutoriales</a></li>
                            <li><a href="../recursos/herramientas/index-herramientas.html">Herramientas</a></li>
                        </ul>
                    </li>
                    
                    <li class="nav-item">
                        <a href="../index.html#acerca" class="nav-link">Acerca de nosotros</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="main-content calculator-page">
        <div class="calculator-container">
            <div class="calculator-header">
                <h1>📡 Calculadora de Filtros (RC, RL, RLC)</h1>
                <p>Calcula la frecuencia de corte o resonancia de filtros eléctricos</p>
            </div>

            <!-- Controles principales -->
            <div class="controls-section">
                <div class="control-row">
                    <div class="control-group">
                        <label for="filterType">Tipo de Filtro:</label>
                        <select id="filterType" class="filter-select">
                            <option value="lowpass">Pasa Bajos</option>
                            <option value="highpass">Pasa Altos</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label for="circuitType">Tipo de Circuito:</label>
                        <select id="circuitType" class="filter-select">
                            <option value="RC">RC (Resistencia + Condensador)</option>
                            <option value="RL">RL (Resistencia + Inductor)</option>
                            <option value="RLC">RLC (Resonante)</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Campos de entrada dinámicos -->
            <div class="inputs-section">
                <h3>Parámetros del Circuito</h3>
                <div class="input-fields" id="inputFields">
                    <!-- Campo R (siempre visible) -->
                    <div class="input-group" id="resistanceGroup">
                        <label for="resistance">Resistencia (R)</label>
                        <div class="input-with-unit">
                            <input type="number" id="resistance" placeholder="1000" step="any" min="0">
                            <select id="resistanceUnit" class="unit-select">
                                <option value="1">Ω</option>
                                <option value="1000" selected>kΩ</option>
                                <option value="1000000">MΩ</option>
                            </select>
                        </div>
                    </div>

                    <!-- Campo C (visible para RC y RLC) -->
                    <div class="input-group" id="capacitanceGroup">
                        <label for="capacitance">Capacitancia (C)</label>
                        <div class="input-with-unit">
                            <input type="number" id="capacitance" placeholder="100" step="any" min="0">
                            <select id="capacitanceUnit" class="unit-select">
                                <option value="1">F</option>
                                <option value="0.001">mF</option>
                                <option value="0.000001" selected>µF</option>
                                <option value="0.000000001">nF</option>
                                <option value="0.000000000001">pF</option>
                            </select>
                        </div>
                    </div>

                    <!-- Campo L (visible para RL y RLC) -->
                    <div class="input-group" id="inductanceGroup" style="display: none;">
                        <label for="inductance">Inductancia (L)</label>
                        <div class="input-with-unit">
                            <input type="number" id="inductance" placeholder="10" step="any" min="0">
                            <select id="inductanceUnit" class="unit-select">
                                <option value="1">H</option>
                                <option value="0.001" selected>mH</option>
                                <option value="0.000001">µH</option>
                            </select>
                        </div>
                    </div>
                </div>

                <button id="calculateBtn" class="calculate-btn">📊 Calcular Frecuencia</button>
            </div>

            <!-- Mensaje de error -->
            <div id="errorMessage" class="error-message" style="display: none;"></div>

            <!-- Resultado -->
            <div class="result-section" id="resultSection" style="display: none;">
                <h3>Resultado</h3>
                <div class="result-display">
                    <div class="result-item">
                        <span class="result-label" id="resultLabel">Frecuencia de Corte:</span>
                        <span class="result-value" id="resultValue">0 Hz</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Período:</span>
                        <span class="result-value" id="periodValue">0 s</span>
                    </div>
                </div>
            </div>

            <!-- Gráfica -->
            <div class="chart-section" id="chartSection" style="display: none;">
                <h3>Respuesta en Frecuencia</h3>
                <div class="chart-container">
                    <canvas id="frequencyChart"></canvas>
                </div>
            </div>

            <!-- Contenedor de dos columnas: Fórmulas y Explicación -->
            <div class="reference-wrapper">
                <!-- Fórmulas -->
                <div class="formulas-section">
                    <h3>📐 Fórmulas Utilizadas</h3>
                    <div class="formula-list">
                        <div class="formula-card">
                            <h4>Filtro RC (Pasa Bajos/Altos)</h4>
                            <p class="formula-text">fc = 1 / (2πRC)</p>
                            <small>Frecuencia de corte</small>
                        </div>
                        <div class="formula-card">
                            <h4>Filtro RL (Pasa Bajos/Altos)</h4>
                            <p class="formula-text">fc = R / (2πL)</p>
                            <small>Frecuencia de corte</small>
                        </div>
                        <div class="formula-card">
                            <h4>Filtro RLC (Resonante)</h4>
                            <p class="formula-text">fr = 1 / (2π√(LC))</p>
                            <small>Frecuencia de resonancia</small>
                        </div>
                    </div>

                    <div class="variables-info">
                        <h4>Variables:</h4>
                        <ul>
                            <li><strong>fc:</strong> Frecuencia de corte (Hz)</li>
                            <li><strong>fr:</strong> Frecuencia de resonancia (Hz)</li>
                            <li><strong>R:</strong> Resistencia (Ω)</li>
                            <li><strong>L:</strong> Inductancia (H)</li>
                            <li><strong>C:</strong> Capacitancia (F)</li>
                            <li><strong>π:</strong> Pi ≈ 3.14159</li>
                        </ul>
                    </div>
                </div>

                <!-- Información adicional -->
                <div class="info-section-side">
                    <h3>💡 Información</h3>
                    <div class="info-cards-vertical">
                        <div class="info-card-small">
                            <h4>🔽 Filtro Pasa Bajos</h4>
                            <p>Permite el paso de frecuencias por debajo de la frecuencia de corte y atenúa las superiores.</p>
                        </div>
                        <div class="info-card-small">
                            <h4>🔼 Filtro Pasa Altos</h4>
                            <p>Permite el paso de frecuencias por encima de la frecuencia de corte y atenúa las inferiores.</p>
                        </div>
                        <div class="info-card-small">
                            <h4>📡 Filtro RLC</h4>
                            <p>Circuito resonante que permite el paso de una banda estrecha de frecuencias alrededor de la frecuencia de resonancia.</p>
                        </div>
                        <div class="info-card-small">
                            <h4>📉 Ganancia -3dB</h4>
                            <p>La frecuencia de corte es donde la ganancia cae a -3dB (aproximadamente 70.7% de la amplitud máxima).</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Botón volver -->
            <div class="back-button-container">
                <a href="../index.html#calculadoras" class="back-btn">
                    ← Volver al Menú de Calculadoras
                </a>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 ElectroTools. Todos los derechos reservados.</p>
            <p>Calculadora de Filtros RC, RL y RLC</p>
        </div>
    </footer>

    <script src="../js/main.js"></script>
    <script src="../js/filtros.js" defer></script>
</body>
</html>
