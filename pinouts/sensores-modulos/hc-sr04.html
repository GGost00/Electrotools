<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HC-SR04 Pinout - ElectroTools</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/pinouts.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <a href="../../index-principal.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
                    <span class="logo-icon">⚡</span>
                    <h1>ElectroTools</h1>
                </a>
            </div>
            
            <button class="menu-toggle" id="menuToggle" aria-label="Menú">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <nav class="nav" id="mainNav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="../../index-principal.html#inicio" class="nav-link">Inicio</a>
                    </li>
                    
                    <li class="nav-item has-dropdown">
                        <a href="../../calculadoras/index-calculadoras.html" class="nav-link">
                            Calculadoras <span class="arrow">▼</span>
                        </a>
                        <ul class="dropdown">
                            <li><a href="../../calculadoras/index-calculadoras.html">Ver todas las Calculadoras</a></li>
                            <li><a href="../../calculadoras/color-code.html">Código de colores</a></li>
                            <li><a href="../../calculadoras/buscar-color-resistencia.html">Buscar colores</a></li>
                            <li><a href="../../calculadoras/ley-de-ohm.html">Ley de Ohm</a></li>
                            <li><a href="../../calculadoras/filtros.html">Filtros RC/RL/RLC</a></li>
                            <li><a href="../../calculadoras/divisor-resistivo.html">Divisor resistivo</a></li>
                            <li><a href="../../calculadoras/serie-paralelo.html">Serie-Paralelo</a></li>
                        </ul>
                    </li>
                    
                    <li class="nav-item has-dropdown">
                        <a href="../index-pinouts.html" class="nav-link">
                            Pinouts <span class="arrow">▼</span>
                        </a>
                        <ul class="dropdown">
                            <li><a href="../index-pinouts.html">Ver todos los Pinouts</a></li>
                            <li><a href="../arduino/index-arduino.html">Arduino</a></li>
                            <li><a href="../raspberry/index-raspberry.html">Raspberry Pi</a></li>
                            <li><a href="../displays/index-displays.html">Displays</a></li>
                            <li><a href="../jacks-conectores/index-jacks.html">Jacks y Conectores</a></li>
                            <li><a href="index-sensores.html">Sensores y Modulos</a></li>
                        </ul>
                    </li>
                    
                    <li class="nav-item has-dropdown">
                        <a href="../../recursos/index-recursos.html" class="nav-link">Recursos <span class="arrow">▼</span>
                        </a>
                        <ul class="dropdown">
                            <li><a href="../../recursos/index-recursos.html">Ver todos los Recursos</a></li>
                            <li><a href="../../recursos/datasheet/index-datasheet.html">Datasheets</a></li>
                            <li><a href="../../recursos/tutoriales/index-tutoriales.html">Tutoriales</a></li>
                            <li><a href="../../recursos/herramientas/index-herramientas.html">Herramientas</a></li>
                        </ul>
                    </li>
                    
                    <li class="nav-item">
                        <a href="../../index-principal.html#acerca" class="nav-link">Acerca de nosotros</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <div class="pinout-detail-container">
            <div class="breadcrumb">
                <a href="../../index-principal.html">Inicio</a> → 
                <a href="../index-pinouts.html">Pinouts</a> → 
                <a href="index-sensores.html">Sensores y Modulos</a> → 
                <span>HC-SR04</span>
            </div>

            <div class="detail-header">
                <h1>📡 HC-SR04</h1>
                <p class="detail-subtitle">Sensor Ultrasónico de Distancia</p>
            </div>

            <div class="pinout-image-section">
                <div class="image-placeholder-large">
                    <p style="font-size: 4rem; margin: 0;">📡</p>
                    <p style="font-size: 1.1rem; color: #95a5a6; margin-top: 15px; font-weight: 500;">[ESPACIO PARA IMAGEN: hc-sr04.png]</p>
                    <p style="font-size: 0.9rem; color: #7f8c8d; margin-top: 8px;">Diagrama de pinout HC-SR04</p>
                </div>
            </div>

            <div class="pinout-content">
                <div class="pinout-table-section">
                    <h2>📌 Pinout HC-SR04 (4 pines)</h2>
                    <table class="pinout-table">
                        <thead>
                            <tr>
                                <th>Pin</th>
                                <th>Nombre</th>
                                <th>Función</th>
                                <th>Conexión Arduino</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>1</strong></td>
                                <td>VCC</td>
                                <td>Alimentación</td>
                                <td>5V (requiere 5V, no funciona a 3.3V)</td>
                            </tr>
                            <tr>
                                <td><strong>2</strong></td>
                                <td>TRIG</td>
                                <td>Trigger / Disparo</td>
                                <td>Cualquier pin digital (ej: D9)</td>
                            </tr>
                            <tr>
                                <td><strong>3</strong></td>
                                <td>ECHO</td>
                                <td>Echo / Respuesta</td>
                                <td>Cualquier pin digital (ej: D10)</td>
                            </tr>
                            <tr>
                                <td><strong>4</strong></td>
                                <td>GND</td>
                                <td>Tierra</td>
                                <td>GND Arduino</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <h3>🔍 Principio de Funcionamiento</h3>
                        <p>El HC-SR04 mide distancia mediante <strong>ultrasonido</strong> (40kHz, inaudible para humanos):</p>
                        <ol style="margin-top: 10px; line-height: 1.8;">
                            <li>Envías pulso HIGH de <strong>10µs</strong> al pin TRIG</li>
                            <li>El sensor emite <strong>8 pulsos ultrasónicos</strong> de 40kHz</li>
                            <li>El pin ECHO se pone en HIGH hasta que reciba el eco de retorno</li>
                            <li>Mides el tiempo que ECHO estuvo en HIGH</li>
                            <li>Calculas distancia: <code>distancia (cm) = (tiempo en µs) / 58</code></li>
                        </ol>
                        <p style="margin-top: 10px;"><strong>Velocidad del sonido:</strong> 343 m/s a 20°C (ida y vuelta = distancia × 2)</p>
                    </div>

                    <div class="info-card">
                        <h3>⚙️ Especificaciones Técnicas</h3>
                        <p><strong>Voltaje:</strong> 5V DC (±0.5V)<br>
                        <strong>Corriente:</strong> 15mA en funcionamiento<br>
                        <strong>Rango de medición:</strong> 2cm - 400cm (4 metros)<br>
                        <strong>Precisión:</strong> ±3mm (condiciones ideales)<br>
                        <strong>Ángulo efectivo:</strong> 15° (cono de detección)<br>
                        <strong>Frecuencia ultrasonido:</strong> 40kHz<br>
                        <strong>Tiempo de respuesta:</strong> ~10ms por medición<br>
                        <strong>Dimensiones:</strong> 45mm x 20mm x 15mm</p>
                    </div>

                    <div class="info-card">
                        <h3>⚠️ Compatibilidad con ESP32/ESP8266</h3>
                        <p>⚠️ <strong>PROBLEMA:</strong> El HC-SR04 opera a <strong>5V</strong>, pero ESP32/ESP8266 usan <strong>3.3V en pines GPIO</strong>.</p>
                        <p style="margin-top: 10px;"><strong>Solución 1 (TRIG):</strong> El ESP32 puede enviar señal TRIG directamente (el sensor acepta 3.3V en TRIG).</p>
                        <p style="margin-top: 10px;"><strong>Solución 2 (ECHO):</strong> El pin ECHO responde a 5V, lo cual puede dañar el ESP32. Usa <strong>divisor resistivo</strong> (1kΩ + 2kΩ) para bajar 5V a 3.3V, o usa un <strong>level shifter bidireccional</strong>.</p>
                        <p style="margin-top: 10px;"><strong>Alternativa:</strong> Usar HC-SR04P (versión 3.3V compatible) o JSN-SR04T (resistente al agua).</p>
                    </div>

                    <div class="info-card">
                        <h3>🚨 Limitaciones y Errores Comunes</h3>
                        <p><strong>Superficies absorbentes:</strong> Tela, espuma, alfombras absorben ultrasonido y dan lecturas erróneas.</p>
                        <p style="margin-top: 10px;"><strong>Ángulos inclinados:</strong> Si el objeto está en ángulo >15°, el eco no regresa correctamente.</p>
                        <p style="margin-top: 10px;"><strong>Objetos pequeños:</strong> Objetos menores a 0.5cm² pueden no reflejar suficiente señal.</p>
                        <p style="margin-top: 10px;"><strong>Temperatura:</strong> La velocidad del sonido varía con temperatura. A 0°C usar división por 61.5 en lugar de 58.</p>
                        <p style="margin-top: 10px;"><strong>Interferencia:</strong> Múltiples HC-SR04 cercanos pueden interferir entre sí (usar disparos secuenciales).</p>
                    </div>

                    <div class="info-card">
                        <h3>💻 Código Arduino Básico</h3>
                        <pre style="background: #2c3e50; padding: 15px; border-radius: 8px; overflow-x: auto; color: #ecf0f1; font-size: 0.85rem;">
#define TRIG_PIN 9
#define ECHO_PIN 10

void setup() {
  Serial.begin(9600);
  pinMode(TRIG_PIN, OUTPUT);
  pinMode(ECHO_PIN, INPUT);
}

void loop() {
  // Enviar pulso de 10µs
  digitalWrite(TRIG_PIN, LOW);
  delayMicroseconds(2);
  digitalWrite(TRIG_PIN, HIGH);
  delayMicroseconds(10);
  digitalWrite(TRIG_PIN, LOW);
  
  // Leer tiempo de ECHO
  long duration = pulseIn(ECHO_PIN, HIGH);
  
  // Calcular distancia en cm
  float distance = duration / 58.0;
  
  // Validar rango
  if (distance >= 2 && distance <= 400) {
    Serial.print("Distancia: ");
    Serial.print(distance);
    Serial.println(" cm");
  } else {
    Serial.println("Fuera de rango");
  }
  
  delay(100); // Esperar 100ms
}</pre>
                    </div>

                    <div class="info-card">
                        <h3>📚 Librería NewPing (Recomendada)</h3>
                        <p>La librería <strong>NewPing</strong> simplifica el uso del HC-SR04 y mejora la precisión:</p>
                        <pre style="background: #2c3e50; padding: 15px; border-radius: 8px; overflow-x: auto; color: #ecf0f1; font-size: 0.85rem; margin-top: 10px;">
#include &lt;NewPing.h&gt;

#define TRIG_PIN 9
#define ECHO_PIN 10
#define MAX_DISTANCE 400

NewPing sonar(TRIG_PIN, ECHO_PIN, MAX_DISTANCE);

void setup() {
  Serial.begin(9600);
}

void loop() {
  delay(50);
  unsigned int distance = sonar.ping_cm();
  
  if (distance > 0) {
    Serial.print("Distancia: ");
    Serial.print(distance);
    Serial.println(" cm");
  }
}</pre>
                        <p style="margin-top: 10px;"><strong>Instalación:</strong> Arduino IDE → Sketch → Include Library → Manage Libraries → Buscar "NewPing"</p>
                    </div>
                </div>

                <div class="info-card" style="margin-top: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
                    <h3 style="color: white;">🎯 Aplicaciones Comunes</h3>
                    <ul style="line-height: 1.8; margin-top: 15px;">
                        <li><strong>Robots autónomos:</strong> Evitar obstáculos y navegación</li>
                        <li><strong>Sensores de estacionamiento:</strong> Medir distancia a objetos al aparcar</li>
                        <li><strong>Medidores de nivel:</strong> Nivel de líquidos en tanques (distancia al líquido)</li>
                        <li><strong>Alarmas de proximidad:</strong> Detectar intrusos o movimiento</li>
                        <li><strong>Puertas automáticas:</strong> Abrir cuando se detecta persona cercana</li>
                        <li><strong>Proyectos domóticos:</strong> Control de luces según distancia detectada</li>
                    </ul>
                </div>
            </div>

            <div class="back-button-container">
                <a href="index-sensores.html" class="back-btn">← Volver a Sensores y Modulos</a>
                <a href="../index-pinouts.html" class="back-btn">← Volver a Pinouts</a>
                <a href="../../index-principal.html" class="back-btn">🏠 Inicio</a>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 ElectroTools. Pinout HC-SR04 - Sensor Ultrasónico de Distancia.</p>
        </div>
    </footer>

    <script src="../../js/main.js"></script>
</body>
</html>
